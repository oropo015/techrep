{% extends 'blog/base.html' %}
{% load static %}

{% block content %}
<section class="latest-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Latest News</h2>
            <a href="{% url 'home' %}" class="see-more-button">
                See More
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M7 3L12 8L7 13M12 8H2"/>
                </svg>
            </a>
        </div>
        <div class="articles-list">
            {% for post in latest_posts %}
            <article class="article-item">
                <a href="{% url 'post_detail' post.slug %}" class="article-link">
                    <div class="article-thumbnail">
                        {% if post.featured_image %}
                        <img src="{{ post.featured_image.url }}" alt="{{ post.title }}">
                        {% else %}
                        <div class="thumbnail-placeholder"></div>
                        {% endif %}
                    </div>
                    <div class="article-content">
                        {% if post.category %}
                        <span class="article-category">{{ post.category.name|upper }}</span>
                        {% endif %}
                        <h3 class="article-headline">{{ post.title }}</h3>
                        <div class="article-meta">
                            <span class="article-author">{{ post.author.get_full_name|default:post.author.username }}</span>
                            <span class="article-separator">-</span>
                            <span class="article-time">{{ post.published_at|timesince }} ago</span>
                        </div>
                    </div>
                </a>
                {% if not forloop.last %}
                <hr class="article-divider">
                {% endif %}
            </article>
            {% empty %}
            <div class="empty-state">
                <p>No articles published yet. Check back soon!</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}
